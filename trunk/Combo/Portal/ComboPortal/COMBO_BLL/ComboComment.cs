
// Generated by MyGeneration Version # (1.3.0.3)

using System;
using COMBO_DAL;

namespace COMBO_BLL
{
	public class ComboComment : _ComboComment
	{
		public ComboComment()
		{
		
		}
        public virtual bool GetPostCommentsByPostID(int pid)
        {
            return LoadFromRawSql(@"Select C.*, U.UserName, A.Path ProfilePic from ComboComment C
                                    Inner Join ComboUser U on C.ComboUserID = U.ComboUserID and 
                                                        (U.IsDeactivated <> 1 or U.IsDeactivated is null)
                                    Left join Attachment A on U.ProfileImgID = A.AttachmentID
                                    Where C.ComboPostID = {0} and 
                                          (C.IsDeleted <> 1 or C.IsDeleted is null)
                                    order by C.CommentDate asc", pid);
        }
        public virtual bool GetPostCommentsCount(int pid)
        {
            return LoadFromRawSql(@"Select count(C.ComboCommentID) TotalCount from ComboComment C                                    
                                    Where C.ComboPostID = {0} and 
                                          (C.IsDeleted <> 1 or C.IsDeleted is null)", pid);
        }

	}
}
